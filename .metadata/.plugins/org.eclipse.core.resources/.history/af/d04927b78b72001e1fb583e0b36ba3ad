package ui;

import java.awt.BorderLayout;
import java.awt.Color;

import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JPanel;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import javax.swing.JTabbedPane;
import javax.swing.border.BevelBorder;

import CustomUI.MauCacDongTrongBang;
import CustomUI.MyButton;
import CustomUI.MyCombobox;
import CustomUI.MyTable;

import javax.swing.JLabel;
import java.awt.Font;
import javax.swing.JTextField;
import javax.swing.JTable;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableCellRenderer;
import javax.swing.JScrollBar;
import javax.swing.JScrollPane;
import javax.swing.JComboBox;
import javax.swing.DefaultComboBoxModel;
import javax.swing.SwingConstants;

public class GUIDoiTraHang extends JPanel {
	private JTextField txtTimKiemHoaDon;
	/**
	 * 
	 */
	private DefaultTableModel modelDanhSachHoaDon;
	private JTable tbDanhSachHoaDon;
	private JScrollPane srcDanhSachHoaDon;
	private DefaultTableModel modelDanhSachSanPham;
	private MyTable tbDanhSachSanPham;
	private JTextField txtMaDonDoiTra;
	private JTextField txtDiemHoanTra;
	private JTextField txtCTKM;
	private DefaultTableModel modelDonDoiTra;
	private MyTable tbDonDoiTra;
	private JTextField txtTongSoLuongDoi;
	private JTextField textField;
	public GUIDoiTraHang() {
		this.setBackground(new Color(255, 255, 255));
		this.setBounds(250, 0, 1250, 800);
		setLayout(null);
		
		JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);
		tabbedPane.setBounds(0, 0, 1230, 760);
		add(tabbedPane);
		
		JPanel pnlQuanLyDonDoiTra = new JPanel();
		pnlQuanLyDonDoiTra.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		tabbedPane.addTab("Quản Lý Đơn Đổi Trả", null, pnlQuanLyDonDoiTra, null);
		tabbedPane.setForegroundAt(0, new Color(255, 255, 255));
		tabbedPane.setBackgroundAt(0, new Color(97, 166, 247));
		pnlQuanLyDonDoiTra.setLayout(null);
		
		JPanel pnlThongTinHoaDon = new JPanel();
		pnlThongTinHoaDon.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		pnlThongTinHoaDon.setLayout(null);
		pnlThongTinHoaDon.setBackground(Color.WHITE);
		pnlThongTinHoaDon.setBounds(27, 28, 542, 160);
		pnlQuanLyDonDoiTra.add(pnlThongTinHoaDon);
		
		JLabel lblTenKhachHang = new JLabel("Tên khách hàng:");
		lblTenKhachHang.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblTenKhachHang.setBounds(27, 29, 137, 20);
		pnlThongTinHoaDon.add(lblTenKhachHang);
		
		JLabel lblTenKhachHangv = new JLabel("Huỳnh Quốc Bảo");
		lblTenKhachHangv.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblTenKhachHangv.setBounds(155, 29, 154, 20);
		pnlThongTinHoaDon.add(lblTenKhachHangv);
		
		JLabel lblMaHoaDon = new JLabel("Mã hóa đơn:");
		lblMaHoaDon.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblMaHoaDon.setBounds(27, 80, 104, 20);
		pnlThongTinHoaDon.add(lblMaHoaDon);
		
		JLabel lblMaHoaDonv = new JLabel("HD12");
		lblMaHoaDonv.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblMaHoaDonv.setBounds(155, 80, 74, 20);
		pnlThongTinHoaDon.add(lblMaHoaDonv);
		
		JLabel lblNgayLapHoaDon = new JLabel("Ngày lập:");
		lblNgayLapHoaDon.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblNgayLapHoaDon.setBounds(319, 80, 85, 20);
		pnlThongTinHoaDon.add(lblNgayLapHoaDon);
		
		JLabel lblNgayLapHoaDonv = new JLabel("12/12/2023");
		lblNgayLapHoaDonv.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblNgayLapHoaDonv.setBounds(421, 80, 104, 20);
		pnlThongTinHoaDon.add(lblNgayLapHoaDonv);
		
		MyButton btnXemChiTietHoaDon = new MyButton("Xem chi tiết");
		btnXemChiTietHoaDon.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
			}
		});
		btnXemChiTietHoaDon.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		btnXemChiTietHoaDon.setBounds(197, 120, 120, 23);
		pnlThongTinHoaDon.add(btnXemChiTietHoaDon);
		
		JLabel lblSDT = new JLabel("Số điện thoại:");
		lblSDT.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		lblSDT.setBounds(319, 34, 100, 20);
		pnlThongTinHoaDon.add(lblSDT);
		
		JLabel lblSDTv = new JLabel("0914653334");
		lblSDTv.setFont(new Font("Times New Roman", Font.PLAIN, 17));
		lblSDTv.setBounds(421, 34, 100, 20);
		pnlThongTinHoaDon.add(lblSDTv);
		
		JPanel pnlTimKiemHoaDon = new JPanel();
		pnlTimKiemHoaDon.setBackground(new Color(255, 255, 255));
		pnlTimKiemHoaDon.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		pnlTimKiemHoaDon.setBounds(27, 212, 542, 80);
		pnlQuanLyDonDoiTra.add(pnlTimKiemHoaDon);
		pnlTimKiemHoaDon.setLayout(null);
		
		JLabel lblTimKiemHoaDon = new JLabel("Tìm kiếm hóa đơn");
		lblTimKiemHoaDon.setFont(new Font("Times New Roman", Font.BOLD, 16));
		lblTimKiemHoaDon.setBackground(new Color(255, 255, 255));
		lblTimKiemHoaDon.setBounds(52, 11, 150, 20);
		pnlTimKiemHoaDon.add(lblTimKiemHoaDon);
		
		txtTimKiemHoaDon = new JTextField();
		txtTimKiemHoaDon.setText("Nhập số điện thoại khách hàng");
		txtTimKiemHoaDon.setFont(new Font("Times New Roman", Font.ITALIC, 14));
		txtTimKiemHoaDon.setToolTipText("");
		txtTimKiemHoaDon.setBounds(52, 36, 320, 24);
		pnlTimKiemHoaDon.add(txtTimKiemHoaDon);
		txtTimKiemHoaDon.setColumns(10);
		txtTimKiemHoaDon.setForeground(Color.GRAY);
		txtTimKiemHoaDon.setBorder(new BevelBorder(BevelBorder.LOWERED, new Color(102, 102, 102), null, null, null));
		JButton btnTimKiemKhachHang = new MyButton("Tìm kiếm");
		btnTimKiemKhachHang.setFont(new Font("Times New Roman", Font.PLAIN, 14));
		btnTimKiemKhachHang.setBounds(387, 36, 117, 24);
		pnlTimKiemHoaDon.add(btnTimKiemKhachHang);
		txtTimKiemHoaDon.addFocusListener(new java.awt.event.FocusAdapter() {
            // Xóa placeholder khi trường JTextField được tương tác
            public void focusGained(java.awt.event.FocusEvent evt) {
            	if (txtTimKiemHoaDon.getText().equals("Nhập số điện thoại khách hàng")) {
                	txtTimKiemHoaDon.setText("");
                	txtTimKiemHoaDon.setForeground(Color.BLACK);
                }
            }
            // Thêm placeholder nếu trường JTextField không có dữ liệu
            public void focusLost(java.awt.event.FocusEvent evt) {
                if (txtTimKiemHoaDon.getText().isEmpty()) {
                	txtTimKiemHoaDon.setForeground(Color.GRAY);
                	txtTimKiemHoaDon.setText("Nhập số điện thoại khách hàng");
                }
            }
        });

		
		JPanel pnlDanhSachHoaDon = new JPanel();
		pnlDanhSachHoaDon.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		pnlDanhSachHoaDon.setBackground(new Color(255, 255, 255));
		pnlDanhSachHoaDon.setBounds(27, 316, 542, 392);
		pnlQuanLyDonDoiTra.add(pnlDanhSachHoaDon);
		pnlDanhSachHoaDon.setLayout(null);
		
		JLabel lblDanhSachHoaDon = new JLabel("Danh sách hóa đơn trong 7 ngày gần nhất");
		lblDanhSachHoaDon.setFont(new Font("Times New Roman", Font.BOLD, 14));
		lblDanhSachHoaDon.setBounds(55, 11, 334, 18);
		pnlDanhSachHoaDon.add(lblDanhSachHoaDon);
		
		
		modelDanhSachHoaDon = new DefaultTableModel(
				new Object[] {"Mã hóa đơn","Ngày lập","Nhân viên","Số lượng SP","Tổng tiền" }, 0);
		
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		modelDanhSachHoaDon.addRow(new Object[] {"HD12","12/12/2023","Huỳnh Quốc Bảo","12","800.000"});
		
		tbDanhSachHoaDon = new MyTable(modelDanhSachHoaDon);		
		tbDanhSachHoaDon.getColumnModel().getColumn(2).setPreferredWidth(120);
		srcDanhSachHoaDon = new JScrollPane(tbDanhSachHoaDon,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
		srcDanhSachHoaDon.setBounds(20, 40, 500, 341);
		
		pnlDanhSachHoaDon.add(srcDanhSachHoaDon);
		
		JPanel pnlSanPhamTrongHoaDon = new JPanel();
		pnlSanPhamTrongHoaDon.setBackground(new Color(255, 255, 255));
		pnlSanPhamTrongHoaDon.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		pnlSanPhamTrongHoaDon.setBounds(592, 28, 611, 332);
		pnlQuanLyDonDoiTra.add(pnlSanPhamTrongHoaDon);
		pnlSanPhamTrongHoaDon.setLayout(null);
		
		JLabel lblDanhSachSanPham = new JLabel("Danh sách sản phẩm trong hóa đơn");
		lblDanhSachSanPham.setFont(new Font("Times New Roman", Font.BOLD, 14));
		lblDanhSachSanPham.setBounds(24, 11, 250, 17);
		pnlSanPhamTrongHoaDon.add(lblDanhSachSanPham);
		
		modelDanhSachSanPham = new DefaultTableModel(
				new Object[] {"Mã sản phẩm","Tên sản phẩm","Số lượng","Giá bán"}, 0);
		
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});
		modelDanhSachSanPham.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000"});

		
		tbDanhSachSanPham = new MyTable(modelDanhSachSanPham);	
		
		JScrollPane srcDanhSachSanPham = new JScrollPane(tbDanhSachSanPham,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
		srcDanhSachSanPham.setBounds(20, 35, 576, 240);
		pnlSanPhamTrongHoaDon.add(srcDanhSachSanPham);
		
		JComboBox cbPhuongThucDoiTra = new MyCombobox();
		cbPhuongThucDoiTra.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		cbPhuongThucDoiTra.setModel(new DefaultComboBoxModel(new String[] {"Đổi Hàng", "Trả Tiền"}));
		cbPhuongThucDoiTra.setSelectedIndex(1);
		cbPhuongThucDoiTra.setBounds(44, 294, 230, 22);
		pnlSanPhamTrongHoaDon.add(cbPhuongThucDoiTra);
		
		JButton btnTaoDonDoiTtra = new MyButton("Tạo đơn");
		btnTaoDonDoiTtra.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		btnTaoDonDoiTtra.setBounds(307, 294, 120, 23);
		pnlSanPhamTrongHoaDon.add(btnTaoDonDoiTtra);
		
		JButton btnXoaSanPham = new MyButton("Xóa");
		btnXoaSanPham.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		btnXoaSanPham.setBounds(458, 294, 120, 23);
		pnlSanPhamTrongHoaDon.add(btnXoaSanPham);
		
		JPanel pnlThongTinDonDoiTra = new JPanel();
		pnlThongTinDonDoiTra.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		pnlThongTinDonDoiTra.setBackground(new Color(255, 255, 255));
		pnlThongTinDonDoiTra.setBounds(592, 384, 611, 324);
		pnlQuanLyDonDoiTra.add(pnlThongTinDonDoiTra);
		pnlThongTinDonDoiTra.setLayout(null);
		
		JLabel lblMaDonDoiTra = new JLabel("Mã đơn đổi trả");
		lblMaDonDoiTra.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		lblMaDonDoiTra.setBounds(39, 11, 100, 20);
		pnlThongTinDonDoiTra.add(lblMaDonDoiTra);
		
		txtMaDonDoiTra = new JTextField();
		txtMaDonDoiTra.setEnabled(false);
		txtMaDonDoiTra.setText("HD12");
		txtMaDonDoiTra.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		txtMaDonDoiTra.setBounds(149, 11, 141, 20);
		pnlThongTinDonDoiTra.add(txtMaDonDoiTra);
		txtMaDonDoiTra.setColumns(10);
		
		JLabel lblDiemHoanTra = new JLabel("Điểm hoàn trả");
		lblDiemHoanTra.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		lblDiemHoanTra.setBounds(380, 11, 100, 20);
		pnlThongTinDonDoiTra.add(lblDiemHoanTra);
		
		txtDiemHoanTra = new JTextField();
		txtDiemHoanTra.setEnabled(false);
		txtDiemHoanTra.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		txtDiemHoanTra.setBounds(477, 11, 96, 20);
		pnlThongTinDonDoiTra.add(txtDiemHoanTra);
		txtDiemHoanTra.setColumns(10);
		
		JLabel lblCTKM = new JLabel("Chương trình khuyến mãi:");
		lblCTKM.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		lblCTKM.setBounds(39, 46, 172, 20);
		pnlThongTinDonDoiTra.add(lblCTKM);
		
		txtCTKM = new JTextField();
		txtCTKM.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		txtCTKM.setEnabled(false);
		txtCTKM.setBounds(208, 46, 365, 20);
		pnlThongTinDonDoiTra.add(txtCTKM);
		txtCTKM.setColumns(10);
		
		modelDonDoiTra = new DefaultTableModel(
				new Object[] {"Mã sản phẩm","Tên sản phẩm","Số lượng","Giá bán","Lý do"}, 0);
		
		modelDonDoiTra.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000","Mực mờ"});
		modelDonDoiTra.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000","Mực mờ"});
		modelDonDoiTra.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000","Mực mờ"});
		modelDonDoiTra.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000","Mực mờ"});
		modelDonDoiTra.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000","Mực mờ"});
		modelDonDoiTra.addRow(new Object[] {"SP112","Sách Công Dân","2","100.000","Mực mờ"});

		tbDonDoiTra = new MyTable(modelDonDoiTra);	
		
		JScrollPane scrollPane = new JScrollPane(tbDonDoiTra,JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);
		scrollPane.setBounds(20, 80, 576, 138);
		pnlThongTinDonDoiTra.add(scrollPane);
		
		JLabel lblTongSoLuongDoi = new JLabel("Tổng số lượng sản phẩm đổi hàng:");
		lblTongSoLuongDoi.setFont(new Font("Times New Roman", Font.PLAIN, 15));
		lblTongSoLuongDoi.setBounds(30, 244, 220, 20);
		pnlThongTinDonDoiTra.add(lblTongSoLuongDoi);
		
		txtTongSoLuongDoi = new JTextField();
		txtTongSoLuongDoi.setHorizontalAlignment(SwingConstants.RIGHT);
		txtTongSoLuongDoi.setEnabled(false);
		txtTongSoLuongDoi.setBounds(259, 245, 135, 20);
		pnlThongTinDonDoiTra.add(txtTongSoLuongDoi);
		txtTongSoLuongDoi.setColumns(10);
		
		JLabel lblTongTienTra = new JLabel("Tổng tiền phải trả:");
		lblTongTienTra.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		lblTongTienTra.setBounds(30, 274, 150, 20);
		pnlThongTinDonDoiTra.add(lblTongTienTra);
		
		textField = new JTextField();
		textField.setHorizontalAlignment(SwingConstants.RIGHT);
		textField.setEnabled(false);
		textField.setText("1.000.000");
		textField.setColumns(10);
		textField.setBounds(259, 275, 135, 20);
		pnlThongTinDonDoiTra.add(textField);
		
		JButton btnHoanThanhDon = new JButton("Hoàn thành đơn");
		btnHoanThanhDon.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		btnHoanThanhDon.setBounds(434, 244, 139, 23);
		pnlThongTinDonDoiTra.add(btnHoanThanhDon);
		
		JButton btnHuy = new JButton("Hủy đơn");
		btnHuy.setFont(new Font("Times New Roman", Font.PLAIN, 16));
		btnHuy.setBounds(434, 274, 139, 23);
		pnlThongTinDonDoiTra.add(btnHuy);
		
		JPanel pnlDonDoiTra = new JPanel();
		pnlDonDoiTra.setBorder(new BevelBorder(BevelBorder.LOWERED, null, null, null, null));
		tabbedPane.addTab("Đơn Đổi Trả", null, pnlDonDoiTra, null);
		tabbedPane.setForegroundAt(1, new Color(255, 255, 255));
		tabbedPane.setBackgroundAt(1, new Color(97, 166, 247));
		pnlDonDoiTra.setLayout(null);

	}
}
